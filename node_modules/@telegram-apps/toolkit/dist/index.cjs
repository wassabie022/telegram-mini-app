"use strict";var I=Object.defineProperty;var N=(r,t,e)=>t in r?I(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var m=(r,t,e)=>N(r,typeof t!="symbol"?t+"":t,e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class u extends Error{constructor(t,e,n){super(typeof e=="object"?e.message:e||t,{cause:typeof e=="object"?e.cause:n}),this.type=t,Object.setPrototypeOf(this,u.prototype)}}function D(r,t,e){return r.addEventListener(t,e),()=>r.removeEventListener(t,e)}function L(...r){const t=r.flat(1);return[t.push.bind(t),()=>{t.forEach(e=>{e()})}]}function $(r,t){return r instanceof u&&r.type===t}function p(r){return t=>$(t,r)}const b="ERR_ABORTED",C="ERR_CANCELED",y="ERR_TIMED_OUT";function T(r){return new u(b,{cause:r})}const U=p(y),x=p(b),B=p(C);function S(r,t){return r.reject=t.reject,r}class i extends Promise{constructor(e,n){let o,s;typeof e=="function"?(o=e,s=n):s=e;let a,c;super((l,g)=>{s||(s={});const{abortSignal:f}=s;if(f&&f.aborted)return g(T(f.reason));const[R,_]=L(),v=d=>(...V)=>(_(),d(...V)),w=new AbortController,{signal:k}=w;c=v(d=>{w.abort(d),g(d)}),a=v(l),f&&R(D(f,"abort",()=>{c(T(f.reason))}));const{timeout:h}=s;if(h){const d=setTimeout(()=>{c(new u(y,`Timeout reached: ${h}ms`))},h);R(()=>{clearTimeout(d)})}o&&o(a,c,k)});m(this,"reject");this.reject=c}static withFn(e,n){return new i((o,s,a)=>{try{const c=e(a);return c instanceof Promise?c.then(o,s):o(c)}catch(c){s(c)}},n)}static resolve(e){return new i(n=>{n(e)})}static reject(e){return new i((n,o)=>{o(e)})}cancel(){this.reject(new u(C))}catch(e){return this.then(void 0,e)}finally(e){return S(super.finally(e),this)}then(e,n){return S(super.then(e,n),this)}}function A(r,t){return r.resolve=t.resolve,r}class E extends i{constructor(e,n){let o,s;typeof e=="function"?(o=e,s=n):s=e;let a;super((c,l,g)=>{a=c,o&&o(c,l,g)},s);m(this,"resolve");this.resolve=a}static withFn(e,n){return new E((o,s,a)=>i.withFn(e,{abortSignal:a}).then(o,s),n)}static resolve(e){return new E(n=>{n(e)})}static reject(e){return new E((n,o)=>{o(e)})}catch(e){return this.then(void 0,e)}finally(e){return A(super.finally(e),this)}then(e,n){return A(super.then(e,n),this)}}function F(r,t){return new i(e=>{setTimeout(e,r)},{abortSignal:t})}function j(r){return`tapps/${r}`}function M(r,t){sessionStorage.setItem(j(r),JSON.stringify(t))}function P(r){const t=sessionStorage.getItem(j(r));try{return t?JSON.parse(t):void 0}catch{}}function K(r){return r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Z(r){return r.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function J(r){return r.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function z(r,t){t||(t={});const{textColor:e,bgColor:n,shouldLog:o=!0}=t;function s(a,...c){if(!o||typeof o=="function"&&!o())return;const l="font-weight:bold;padding:0 5px;border-radius:5px";console[a](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${r}`,`${l};background-color: lightblue;color:black`,"",`${l};${e?`color:${e};`:""}${n?`background-color:${n}`:""}`,...c)}return[function(...c){s("log",...c)},function(...c){s("error",...c)}]}function G(r,t){document.documentElement.style.setProperty(r,t)}function q(r){document.documentElement.style.removeProperty(r)}exports.CancelablePromise=i;exports.ERR_ABORTED=b;exports.ERR_CANCELED=C;exports.ERR_TIMED_OUT=y;exports.EnhancedPromise=E;exports.TypedError=u;exports.addEventListener=D;exports.camelToKebab=K;exports.camelToSnake=Z;exports.createAbortError=T;exports.createCbCollector=L;exports.createLogger=z;exports.createTypedErrorPredicate=p;exports.deleteCssVar=q;exports.getStorageValue=P;exports.isAbortError=x;exports.isCanceledError=B;exports.isErrorOfType=$;exports.isTimeoutError=U;exports.setCssVar=G;exports.setStorageValue=M;exports.sleep=F;exports.snakeToCamel=J;
//# sourceMappingURL=index.cjs.map
